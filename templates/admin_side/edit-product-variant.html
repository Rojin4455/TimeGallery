{% extends 'admin_side/base.html' %}
{% load static %}

{% block content %}

<section class="content-main">
    <div class="content-header">
        <div>
            <h2 class="content-title card-title">Edit Product Variant - {{ product_variant.product.product_name }}</h2>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card">
                <div class="card-body">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="mb-4">
                            <label for="variant_name" class="form-label">Product Variant title</label>
                            <input type="text" class="form-control" id="variant_name" name='variant_name' value="{{ product_variant.variant_name }}">
                        </div>
                        <div class="mb-3">
                            <label for="sku_id" class="form-label">SKU ID</label>
                            <input type="text" class="form-control" id="sku_id" name="sku_id" value="{{ product_variant.sku_id }}">
                        </div>
                        <div class="mb-3">
                            <label for="max_price" class="form-label">Max Price</label>
                            <input type="number" class="form-control" id="max_price" name="max_price" value="{{ product_variant.max_price }}">
                        </div>
                        <div class="mb-3">
                            <label for="sale_price" class="form-label">Sale Price</label>
                            <input type="number" class="form-control" id="sale_price" name="sale_price" value="{{ product_variant.sale_price }}">
                        </div>
                        <div class="mb-3">
                            <label for="stock" class="form-label">Stock</label>
                            <input type="number" class="form-control" id="stock" name="stock" value="{{ product_variant.stock }}">
                        </div>
                        <div class="mb-3">
                            <label for="color" class="form-label">Color</label>
                            <select class="form-select" id="color" name="color" multiple>
                                {% for attribute in variants %}
                                    <option value="{{ attribute.id }}" {% if attribute in product_variant.attributes.all %} selected {% endif %}>
                                        {{ attribute.attribute_value }}
                                    </option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        
                        <div class="mb-3">
                            <label for="thumbnail_image" class="form-label">Thumbnail Image</label>
                            <input type="file" class="form-control" id="thumbnail_image" name="thumbnail_image">
                        </div>
                        <div class="mb-3">
                            <label for="additional_image_1" class="form-label">Additional Images</label>
                            <input type="file" class="form-control" id="additional_image_1" name="additional_image_1" multiple >
                        </div>
                        <div class="mb-3">
                            <label for="is_active" class="form-label">Active</label>
                            <select class="form-select" id="is_active" name="is_active">
                                <option value="1" {% if product_variant.product.is_active %}selected{% endif %}>Active</option>
                                <option value="0" {% if not product_variant.product.is_active %}selected{% endif %}>Inactive</option>
                            </select>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</section>

{% endblock %}
